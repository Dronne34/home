<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content="Marc André Tanner"><meta name=description content="Marc André Tanner's personal playground"><meta name=keywords content="blog,developer,personal"><meta name=twitter:card content="summary"><meta name=twitter:title content="dvtm - dynamic virtual terminal manager"><meta name=twitter:description content="dvtm brings the concept of tiling window management, popularized by X11-window managers like dwm to the console. As a console window manager it tries to make it easy to work with multiple console based programs.
News  dvtm-0.15 released (2016-01-09) dvtm-0.14 released (2015-02-19) dvtm-0.13 released (2014-11-15) dvtm-0.12 released (2014-07-05) dvtm-0.11 released (2014-03-08) dvtm-0.10 released (2013-12-28) dvtm-0.9 released (2013-04-03) dvtm-0.8 released (2012-08-01) dvtm-0.7 released (2011-09-04) dvtm-0.6 released (2010-10-08) dvtm-0.5.2 released (2009-07-07) dvtm-0."><meta property="og:title" content="dvtm - dynamic virtual terminal manager"><meta property="og:description" content="dvtm brings the concept of tiling window management, popularized by X11-window managers like dwm to the console. As a console window manager it tries to make it easy to work with multiple console based programs.
News  dvtm-0.15 released (2016-01-09) dvtm-0.14 released (2015-02-19) dvtm-0.13 released (2014-11-15) dvtm-0.12 released (2014-07-05) dvtm-0.11 released (2014-03-08) dvtm-0.10 released (2013-12-28) dvtm-0.9 released (2013-04-03) dvtm-0.8 released (2012-08-01) dvtm-0.7 released (2011-09-04) dvtm-0.6 released (2010-10-08) dvtm-0.5.2 released (2009-07-07) dvtm-0."><meta property="og:type" content="article"><meta property="og:url" content="https://www.brain-dump.org/projects/dvtm/"><base href=https://www.brain-dump.org/projects/dvtm/><title>dvtm - dynamic virtual terminal manager · Marc André Tanner</title><link rel=canonical href=https://www.brain-dump.org/projects/dvtm/><link href="https://fonts.googleapis.com/css?family=Lato:400,700%7CMerriweather:300,700%7CSource+Code+Pro:400,700&display=swap" rel=stylesheet><link rel=stylesheet href=https://use.fontawesome.com/releases/v5.11.2/css/all.css integrity=sha384-KA6wR/X5RY4zFAHpv/CnoG2UW1uogYfdnP67Uv7eULvTveboZJg0qUpmJZb5VqzN crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css integrity="sha256-l85OmPOjvil/SOvVt3HnSSjzF1TUMyT9eV0c2BzEGzU=" crossorigin=anonymous><link rel=stylesheet href=https://www.brain-dump.org/css/coder.min.1e5371aa9f4b22c4fd700ef6db8c62f2eb6719487d060f8059a323048fd0fbe6.css integrity="sha256-HlNxqp9LIsT9cA7224xi8utnGUh9Bg+AWaMjBI/Q++Y=" crossorigin=anonymous media=screen><link rel=icon type=image/svg+xml href=https://www.brain-dump.org/images/favicon.svg sizes=any><meta name=generator content="Hugo 0.65.3"></head><body class=colorscheme-light><main class=wrapper><nav class=navigation><section class=container><a class=navigation-title href=https://www.brain-dump.org/>Marc André Tanner</a>
<input type=checkbox id=menu-toggle>
<label class="menu-button float-right" for=menu-toggle><i class="fas fa-bars"></i></label><ul class=navigation-list><li class=navigation-item><a class=navigation-link href=https://www.brain-dump.org/blog/>Blog</a></li><li class=navigation-item><a class=navigation-link href=https://www.brain-dump.org/projects/>Projects</a></li><li class=navigation-item><a class=navigation-link href=https://www.brain-dump.org/talks/>Talks</a></li></ul></section></nav><div class=content><section class="container page"><article><header><h1>dvtm - dynamic virtual terminal manager</h1></header><p><a href=https://www.brain-dump.org/projects/dvtm/>dvtm</a> brings the concept
of tiling window management, popularized by X11-window managers like
<a href=https://dwm.suckless.org>dwm</a> to the console. As a console window
manager it tries to make it easy to work with multiple console based
programs.</p><p><img src=https://raw.githubusercontent.com/martanne/dvtm/gh-pages/screencast.gif#center alt="abduco+dvtm demo"></p><h2 id=news>News</h2><ul><li><a href=https://www.brain-dump.org/projects/dvtm/dvtm-0.15.tar.gz>dvtm-0.15</a>
<a href=https://lists.suckless.org/dev/1601/28095.html>released</a> (2016-01-09)</li><li><a href=https://www.brain-dump.org/projects/dvtm/dvtm-0.14.tar.gz>dvtm-0.14</a>
<a href=https://lists.suckless.org/dev/1502/25558.html>released</a> (2015-02-19)</li><li><a href=https://www.brain-dump.org/projects/dvtm/dvtm-0.13.tar.gz>dvtm-0.13</a>
<a href=https://lists.suckless.org/dev/1411/24449.html>released</a> (2014-11-15)</li><li><a href=https://www.brain-dump.org/projects/dvtm/dvtm-0.12.tar.gz>dvtm-0.12</a>
<a href=https://lists.suckless.org/dev/1407/22702.html>released</a> (2014-07-05)</li><li><a href=https://www.brain-dump.org/projects/dvtm/dvtm-0.11.tar.gz>dvtm-0.11</a>
<a href=https://lists.suckless.org/dev/1403/20371.html>released</a> (2014-03-08)</li><li><a href=https://www.brain-dump.org/projects/dvtm/dvtm-0.10.tar.gz>dvtm-0.10</a>
<a href=https://lists.suckless.org/dev/1312/18805.html>released</a> (2013-12-28)</li><li><a href=https://www.brain-dump.org/projects/dvtm/dvtm-0.9.tar.gz>dvtm-0.9</a>
<a href=https://lists.suckless.org/dev/1304/15112.html>released</a> (2013-04-03)</li><li><a href=https://www.brain-dump.org/projects/dvtm/dvtm-0.8.tar.gz>dvtm-0.8</a>
<a href=https://lists.suckless.org/dev/1208/12004.html>released</a> (2012-08-01)</li><li><a href=https://www.brain-dump.org/projects/dvtm/dvtm-0.7.tar.gz>dvtm-0.7</a>
<a href=https://lists.suckless.org/dev/1109/9266.html>released</a> (2011-09-04)</li><li><a href=https://www.brain-dump.org/projects/dvtm/dvtm-0.6.tar.gz>dvtm-0.6</a>
<a href=https://lists.suckless.org/dev/1010/6146.html>released</a> (2010-10-08)</li><li><a href=https://www.brain-dump.org/projects/dvtm/dvtm-0.5.2.tar.gz>dvtm-0.5.2</a>
<a href=https://lists.suckless.org/dev/0907/0520.html>released</a> (2009-07-07)</li><li><a href=https://www.brain-dump.org/projects/dvtm/dvtm-0.5.1.tar.gz>dvtm-0.5.1</a>
<a href=https://lists.suckless.org/dwm/0902/7405.html>released</a> (2009-02-08)</li><li><a href=https://www.brain-dump.org/projects/dvtm/dvtm-0.5.tar.gz>dvtm-0.5</a>
<a href=https://lists.suckless.org/dwm/0901/7354.html>released</a> (2009-01-26)</li><li><a href=https://www.brain-dump.org/projects/dvtm/dvtm-0.4.1.tar.gz>dvtm-0.4.1</a>
<a href=https://lists.suckless.org/dwm/0805/5672.html>released</a> (2008-05-10)</li><li><a href=https://www.brain-dump.org/projects/dvtm/dvtm-0.4.tar.gz>dvtm-0.4</a>
<a href=https://lists.suckless.org/dwm/0802/4850.html>released</a> (2008-02-17)</li><li><a href=https://www.brain-dump.org/projects/dvtm/dvtm-0.3.tar.gz>dvtm-0.3</a>
<a href=https://lists.suckless.org/dwm/0801/4735.html>released</a> (2008-01-12)</li><li><a href=https://www.brain-dump.org/projects/dvtm/dvtm-0.2.tar.gz>dvtm-0.2</a>
<a href=https://lists.suckless.org/dwm/0712/4677.html>released</a> (2007-12-29)</li><li><a href=https://www.brain-dump.org/projects/dvtm/dvtm-0.1.tar.gz>dvtm-0.1</a>
<a href=https://lists.suckless.org/dwm/0712/4632.html>released</a> (2007-12-21)</li><li><a href=https://www.brain-dump.org/projects/dvtm/dvtm-0.01.tar.gz>dvtm-0.01</a>
<a href=https://lists.suckless.org/dwm/0712/4424.html>released</a> (2007-12-08)</li></ul><h2 id=download>Download</h2><p>Either Download the latest <a href=https://github.com/martanne/dvtm/releases>source tarball</a>,
compile (you will need curses headers) and install it</p><pre><code>$EDITOR config.mk &amp;&amp; $EDITOR config.def.h &amp;&amp; make &amp;&amp; sudo make install
</code></pre><p>or use one of the distribution provided
<a href=https://repology.org/project/dvtm/packages>binary packages</a>.</p><h2 id=why-dvtm-the-philosophy-behind>Why dvtm? The philosophy behind</h2><p>dvtm strives to adhere to the
<a href=http://www.catb.org/esr/writings/taoup/html/ch01s06.html>Unix philosophy</a>.
It tries to do one thing, <em>dynamic</em> window management on the console,
and to do it well.</p><p>As such dvtm does <em>not</em> implement <a href=#faq>session management</a> but instead
delegates this task to a separate tool called
<a href=https://www.brain-dump.org/projects/abduco/>abduco</a>.</p><p>Similarly dvtm&rsquo;s copy mode is implemented by piping the scroll back buffer
content to an external editor and only storing whatever the editor writes
to <code>stdout</code>. Hence the selection process is delegated to the editor
where powerful features such as regular expression search are available.</p><p>As a result dvtm&rsquo;s source code is relatively small
(<a href=https://www.ohloh.net/p/dvtm/analyses/latest/languages_summary>~4000 lines of C</a>),
simple and therefore easy to hack on.</p><h2 id=quickstart>Quickstart</h2><p>All of dvtm keybindings start with a common modifier which from now
on is refered to as <code>MOD</code>. By default <code>MOD</code> is set to <code>CTRL+g</code> however
this can be changed at runttime with the <code>-m</code> command line option.
For example setting <code>MOD</code> to <code>CTRL-b</code> is accomplished by starting
<code>dvtm -m ^b</code>.</p><h3 id=windows>Windows</h3><p>New windows are created with <code>MOD+c</code> and closed with <code>MOD+x</code>.
To switch among the windows use <code>MOD+j</code> and <code>MOD+k</code> or <code>MOD+[1..9]</code>
where the digit corresponds to the window number which is displayed
in the title bar. Windows can be minimized and restored with <code>MOD+.</code>.
Input can be directed to all visible window by pressing <code>MOD+a</code>,
issuing the same key combination again restores normal behaviour
i.e. only the currently focused window will receive input.</p><h3 id=layouts>Layouts</h3><p>Visible Windows are arranged by a layout. Each layout consists of a
master and a tile area. Typically the master area occupies the largest
part of the screen and is intended for the currently most important
window. The size of the master area can be shrunk with <code>MOD+h</code>
and enlarged with <code>MOD-l</code> respectively. Windows can be zoomed into
the master area with <code>MOD+Enter</code>. The number of windows in the
master area can be increased and decreased with <code>MOD+i</code> and <code>MOD+d</code>.</p><p>By default dvtm comes with 4 different layouts which can be cycled
through via <code>MOD+Space</code></p><ul><li>vertical stack: master area on the left half, other clients
stacked on the right</li><li>bottom stack: master area on the top half, other clients stacked below</li><li>grid: every window gets an equally sized portion of the screen</li><li>fullscreen: only the selected window is shown and occupies the
whole available display area <code>MOD+m</code></li></ul><p>Further layouts are included in the source tarball but disabled by
default.</p><h3 id=tagging>Tagging</h3><p>Each window has a non empty set of tags [1..n] associated with it. A view
consists of a number of tags. The current view includes all windows
which are tagged with the currently active tags. The following key
bindings are used to manipulate the tagsets.</p><ul><li><code>MOD-0</code> view all windows with any tag</li><li><code>Mod-v-Tab</code> toggles to the previously selected tags</li><li><code>MOD-v-[1..n]</code> view all windows with nth tag</li><li><code>Mod-V-[1..n]</code> add/remove all windows with nth tag to/from the view</li><li><code>Mod-t-[1..n]</code> apply nth tag to focused window</li><li><code>Mod-T-[1..n]</code> add/remove nth tag to/from focused window</li></ul><h3 id=statusbar>Statusbar</h3><p>dvtm can be instructed to read and display status messages from a named
pipe. As an example the
<a href=https://raw.githubusercontent.com/martanne/dvtm/master/dvtm-status><code>dvtm-status</code> script</a>
is provided which shows the current time.</p><h3 id=copymode->Copymode</h3><p><code>MOD+e</code> pipes the whole scroll buffer content to an external editor.
What ever the editor writes to <code>stdout</code> is remembered by dvtm and can
later be pasted with <code>MOD+p</code>.</p><p>In order for this to work the editor needs to be usable as a filter
and should use <code>stderr</code> for its user interface. Examples where this is
the case include <code>sandy(1)</code> and <a href=https://www.brain-dump.org/projects/vis>vis</a>.</p><pre><code>$ echo Hello World | vis - | cat
</code></pre><h2 id=patches>Patches</h2><p>There exist a number of out of tree patches which customize dvtm&rsquo;s
behaviour:</p><ul><li><a href=http://waxandwane.org/dvtm.html>pertag</a> (see also the corresponding
<a href=https://lists.suckless.org/hackers/1510/8186.html>mailing list post</a>)</li></ul><h2 id=faq>FAQ</h2><h3 id=detach--reattach-functionality>Detach / reattach functionality</h3><p>dvtm doesn&rsquo;t have session support built in. Use
<a href=https://www.brain-dump.org/projects/abduco/>abduco</a> instead.</p><pre><code>$ abduco -c dvtm-session
</code></pre><p>Detach using <code>CTRL-\</code> and later reattach with</p><pre><code>$ abduco -a dvtm-session
</code></pre><h3 id=copy--paste-does-not-work-under-x>Copy / Paste does not work under X</h3><p>If you have mouse support enabled, which is the case with the
default settings, you need to hold down shift while selecting
and inserting text. In case you don&rsquo;t like this behaviour either
run dvtm with the <code>-M</code> command line argument, disable it at run
time with <code>MOD+M</code> or modify <code>config.def.h</code> to disable it completely
at compile time. You will however no longer be able to perform
other mouse actions like selecting windows etc.</p><h3 id=how-to-change-the-key-bindings>How to change the key bindings?</h3><p>The configuration of dvtm is done by creating a custom <code>config.h</code>
and (re)compiling the source code. See the default <code>config.def.h</code>
as an example, adapting it to your preference should be straightforward.
You basically define a set of layouts and keys which dvtm will use.
There are some pre defined macros to ease configuration.</p><h3 id=warning-terminal-is-not-fully-functional>WARNING: terminal is not fully functional</h3><p>This means you haven&rsquo;t installed the <code>dvtm.info</code> terminfo description
which can be done with <code>tic -s dvtm.info</code>. If for some reason you
can&rsquo;t install new terminfo descriptions set the <code>DVTM_TERM</code> environment
variable to a known terminal when starting <code>dvtm</code> as in</p><pre><code>$ DVTM_TERM=rxvt dvtm
</code></pre><p>This will instruct dvtm to use rxvt as <code>$TERM</code> value within its windows.</p><h3 id=how-to-set-the-window-title>How to set the window title?</h3><p>The window title can be changed by means of a
<a href=https://tldp.org/HOWTO/Xterm-Title-3.html#ss3.2>xterm extension</a>
terminal escape sequence</p><pre><code>$ echo -ne &quot;\033]0;Your title here\007&quot;
</code></pre><p>So for example in <code>bash</code> if you want to display the current working
directory in the window title this can be accomplished by means of
the following section in your startup files.</p><pre><code># If this is an xterm set the title to user@host:dir
case &quot;$TERM&quot; in
dvtm*|xterm*|rxvt*)
    PROMPT_COMMAND='echo -ne &quot;\033]0;${USER}@${HOSTNAME}: ${PWD/$HOME/~}\007&quot;'
    ;;
*)
    ;;
esac
</code></pre><p>Other shells provide similar functionality, zsh as an example has a
<a href=http://zsh.sourceforge.net/Doc/Release/Functions.html#Hook-Functions>precmd function</a>
which can be used to achieve the same effect.</p><h3 id=something-is-wrong-with-the-displayed-colors>Something is wrong with the displayed colors</h3><p>Make sure you have set <code>$TERM</code> correctly for example if you want to
use 256 color profiles you probably have to append <code>-256color</code> to
your regular terminal name. Also due to limitations of ncurses by
default you can only use 255 color pairs simultaneously. If you
need more than 255 different color pairs at the same time, then you
have to rebuild ncurses with</p><pre><code>$ ./configure ... --enable-ext-colors
</code></pre><p>Note that this changes the ABI and therefore sets SONAME of the
library to 6 (i.e. you have to link against <code>libncursesw.so.6</code>).</p><h3 id=some-characters-are-displayed-like-garbage>Some characters are displayed like garbage</h3><p>Make sure you compiled dvtm against a unicode aware curses library
(in case of ncurses this would be <code>libncursesw</code>). Also make sure
that your locale settings contain UTF-8.</p><h3 id=the-numeric-keypad-does-not-work-with-putty>The numeric keypad does not work with Putty</h3><p>Disable <a href=https://the.earth.li/~sgtatham/putty/0.64/htmldoc/Chapter4.html#config-features-application>application keypad mode</a>
in the Putty configuration under <code>Terminal => Features => Disable application keypad mode</code>.</p><h3 id=unicode-characters-do-not-work-within-putty>Unicode characters do not work within Putty</h3><p>You have to tell Putty in which
<a href=https://the.earth.li/~sgtatham/putty/0.64/htmldoc/Chapter4.html#config-translation>character encoding</a>
the received data is. Set the dropdown box under <code>Window => Translation</code>
to UTF-8. In order to get proper line drawing characters you proabably
also want to set the TERM environment variable to <code>putty</code> or <code>putty-256color</code>.
If that still doesn&rsquo;t do the trick then try running dvtm with the
following ncurses related environment variable set <code>NCURSES_NO_UTF8_ACS=1</code>.</p><h2 id=development>Development</h2><p>You can always fetch the current code base from the git repository
located at <a href=https://github.com/martanne/dvtm/>Github</a> or
<a href=https://git.sr.ht/~martanne/dvtm>Sourcehut</a>.</p><p>If you have comments, suggestions, ideas, a bug report, a patch or
something else related to dvtm then write to the
<a href=https://suckless.org/community>suckless developer mailing list</a>
or contact me directly.</p><h2 id=license>License</h2><p>dvtm reuses some code of dwm and is released under the same
<a href=https://raw.githubusercontent.com/martanne/dvtm/master/LICENSE>MIT/X11 license</a>.
The terminal emulation part is licensed under the ISC license.</p></article></section></div><footer class=footer><section class=container></section></footer></main></body></html>